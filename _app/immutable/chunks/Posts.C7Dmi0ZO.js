import{s as de,n as re}from"./scheduler.Cz8qcNk9.js";import{S as _e,i as ge,e as g,b as T,p as q,l as oe,c as m,d as C,f as w,g as h,q as N,m as ie,h as f,r as me,j as B,k as c,n as ce,s as Y,t as O,u as pe,v as ve,a as G,o as fe,w as be,x as ue}from"./index.DoHFqw8Q.js";import{e as le}from"./each.D6YF6ztN.js";import{T as ke}from"./Tag.BA_PTSN2.js";import{P as Ce}from"./PostCard.DuQXnw1g.js";function ae(n,e,a){const t=n.slice();return t[8]=e[a],t}function ne(n){let e,a;return e=new Ce({props:{post:n[8],selectedTag:n[3]}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ce(e,t,l),a=!0},p(t,l){const r={};l&1&&(r.post=t[8]),l&8&&(r.selectedTag=t[3]),e.$set(r)},i(t){a||(O(e.$$.fragment,t),a=!0)},o(t){G(e.$$.fragment,t),a=!1},d(t){fe(e,t)}}}function Pe(n){let e,a,t;return{c(){e=g("a"),a=T("上一頁"),this.h()},l(l){e=m(l,"A",{"data-sveltekit-reload":!0,href:!0,class:!0});var r=C(e);a=w(r,"上一頁"),r.forEach(h),this.h()},h(){f(e,"data-sveltekit-reload",""),f(e,"href",t=`/posts/${n[3]?`tag/${encodeURIComponent(n[3])}`:""}${n[2]-1}`),f(e,"class","text-blue-500 font-bold")},m(l,r){B(l,e,r),c(e,a)},p(l,r){r&12&&t!==(t=`/posts/${l[3]?`tag/${encodeURIComponent(l[3])}`:""}${l[2]-1}`)&&f(e,"href",t)},d(l){l&&h(e)}}}function ye(n){let e,a="上一頁";return{c(){e=g("p"),e.textContent=a,this.h()},l(t){e=m(t,"P",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-19vgmjs"&&(e.textContent=a),this.h()},h(){f(e,"class","text-gray-400")},m(t,l){B(t,e,l)},p:re,d(t){t&&h(e)}}}function Ee(n){let e,a,t;return{c(){e=g("a"),a=T("下一頁"),this.h()},l(l){e=m(l,"A",{"data-sveltekit-reload":!0,href:!0,class:!0});var r=C(e);a=w(r,"下一頁"),r.forEach(h),this.h()},h(){f(e,"data-sveltekit-reload",""),f(e,"href",t=`/posts/${n[3]?`tag/${encodeURIComponent(n[3])}/`:""}${n[2]+1}`),f(e,"class","text-blue-500 font-bold")},m(l,r){B(l,e,r),c(e,a)},p(l,r){r&12&&t!==(t=`/posts/${l[3]?`tag/${encodeURIComponent(l[3])}/`:""}${l[2]+1}`)&&f(e,"href",t)},d(l){l&&h(e)}}}function Ie(n){let e,a="下一頁";return{c(){e=g("p"),e.textContent=a,this.h()},l(t){e=m(t,"P",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1fa0y9v"&&(e.textContent=a),this.h()},h(){f(e,"class","text-gray-400")},m(t,l){B(t,e,l)},p:re,d(t){t&&h(e)}}}function Te(n){let e,a,t,l,r=n[3]?`標籤篩選：${n[3]}`:"內容總覽",E,R,d,I,_,p,j,J,v,F,P,K,H,M,L,Q,W,D;_=new ke({props:{isAll:!0,tag:null,selectedTag:n[3]}});let V=le(n[0]),i=[];for(let s=0;s<V.length;s+=1)i[s]=ne(ae(n,V,s));const he=s=>G(i[s],1,1,()=>{i[s]=null});function Z(s,o){return s[5]?ye:Pe}let x=Z(n),b=x(n);function ee(s,o){return s[4]?Ie:Ee}let z=ee(n),k=z(n);return{c(){e=g("section"),a=g("section"),t=g("div"),l=g("h2"),E=T(r),R=q(),d=g("div"),I=g("div"),oe(_.$$.fragment),p=q(),j=g("div");for(let s=0;s<i.length;s+=1)i[s].c();J=q(),v=g("div"),b.c(),F=q(),P=g("p"),K=T("第 "),H=T(n[2]),M=T(" 頁 / 共 "),L=T(n[1]),Q=T(" 頁"),W=q(),k.c(),this.h()},l(s){e=m(s,"SECTION",{class:!0});var o=C(e);a=m(o,"SECTION",{class:!0,style:!0});var y=C(a);t=m(y,"DIV",{class:!0});var u=C(t);l=m(u,"H2",{class:!0});var A=C(l);E=w(A,r),A.forEach(h),u.forEach(h),y.forEach(h),R=N(o),d=m(o,"DIV",{class:!0});var S=C(d);I=m(S,"DIV",{class:!0});var te=C(I);ie(_.$$.fragment,te),te.forEach(h),p=N(S),j=m(S,"DIV",{class:!0});var se=C(j);for(let X=0;X<i.length;X+=1)i[X].l(se);se.forEach(h),J=N(S),v=m(S,"DIV",{class:!0});var U=C(v);b.l(U),F=N(U),P=m(U,"P",{class:!0});var $=C(P);K=w($,"第 "),H=w($,n[2]),M=w($," 頁 / 共 "),L=w($,n[1]),Q=w($," 頁"),$.forEach(h),W=N(U),k.l(U),U.forEach(h),S.forEach(h),o.forEach(h),this.h()},h(){f(l,"class","flex-1 text-6xl font-bold text-white"),f(t,"class","flex flex-col items-center justify-center"),f(a,"class","relative bg-cover bg-center bg-no-repeat h-96 w-screen flex items-center justify-center mb-12"),me(a,"background-image","url('/images/background.webp')"),f(I,"class","flex flex-wrap mb-6 px-4 gap-2"),f(j,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8"),f(P,"class","font-bold"),f(v,"class","flex justify-center gap-16 mt-6"),f(d,"class","max-w-7xl mx-auto"),f(e,"class","pb-12 fade-in-bg")},m(s,o){B(s,e,o),c(e,a),c(a,t),c(t,l),c(l,E),c(e,R),c(e,d),c(d,I),ce(_,I,null),c(d,p),c(d,j);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(j,null);c(d,J),c(d,v),b.m(v,null),c(v,F),c(v,P),c(P,K),c(P,H),c(P,M),c(P,L),c(P,Q),c(v,W),k.m(v,null),D=!0},p(s,[o]){(!D||o&8)&&r!==(r=s[3]?`標籤篩選：${s[3]}`:"內容總覽")&&Y(E,r);const y={};if(o&8&&(y.selectedTag=s[3]),_.$set(y),o&9){V=le(s[0]);let u;for(u=0;u<V.length;u+=1){const A=ae(s,V,u);i[u]?(i[u].p(A,o),O(i[u],1)):(i[u]=ne(A),i[u].c(),O(i[u],1),i[u].m(j,null))}for(pe(),u=V.length;u<i.length;u+=1)he(u);ve()}x===(x=Z(s))&&b?b.p(s,o):(b.d(1),b=x(s),b&&(b.c(),b.m(v,F))),(!D||o&4)&&Y(H,s[2]),(!D||o&2)&&Y(L,s[1]),z===(z=ee(s))&&k?k.p(s,o):(k.d(1),k=z(s),k&&(k.c(),k.m(v,null)))},i(s){if(!D){O(_.$$.fragment,s);for(let o=0;o<V.length;o+=1)O(i[o]);D=!0}},o(s){G(_.$$.fragment,s),i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)G(i[o]);D=!1},d(s){s&&h(e),fe(_),be(i,s),b.d(),k.d()}}}function we(n,e,a){let t,l,{tag:r}=e,{page:E}=e,{posts:R}=e,{totalPages:d}=e,I=null,_=1;return I=r||null,_=(E?parseInt(E):1)??1,n.$$set=p=>{"tag"in p&&a(6,r=p.tag),"page"in p&&a(7,E=p.page),"posts"in p&&a(0,R=p.posts),"totalPages"in p&&a(1,d=p.totalPages)},n.$$.update=()=>{n.$$.dirty&4&&a(5,t=_<=1),n.$$.dirty&6&&a(4,l=_>=d)},[R,d,_,I,l,t,r,E]}class Ue extends _e{constructor(e){super(),ge(this,e,we,Te,de,{tag:6,page:7,posts:0,totalPages:1})}}export{Ue as P};
